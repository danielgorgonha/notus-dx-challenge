# Notus API - Exemplos de cURL para Testes

Este documento cont√©m exemplos pr√°ticos de cURL para testar todos os endpoints da API Notus, organizados por categoria e incluindo status de retorno esperados.

## üîß Configura√ß√£o Base

### Headers Obrigat√≥rios
```bash
# Substitua YOUR_API_KEY pela sua chave da API
export NOTUS_API_KEY="YOUR_API_KEY"
export BASE_URL="https://api.notus.team/api/v1"

# Headers padr√£o para todas as requisi√ß√µes
-H "Content-Type: application/json" \
-H "x-api-key: $NOTUS_API_KEY"
```

---

## üåê Blockchain

### 1. List Chains
**Endpoint:** `GET /crypto/chains`

```bash
curl -X GET "$BASE_URL/crypto/chains?page=1&perPage=20" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Status de Retorno:**
- `200` - Lista de chains dispon√≠veis
- `400` - Par√¢metros inv√°lidos
- `500` - Erro interno do servidor

### 2. List Tokens
**Endpoint:** `GET /crypto/tokens`

```bash
curl -X GET "$BASE_URL/crypto/tokens?orderBy=marketCap&orderDir=asc&search=WBTC&filterByChainId=42161&filterWhitelist=true&page=1&perPage=25&projectId=9c0f200f-27b1-4a30-8127-d5e74f136957" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Query Parameters:**
- `orderBy` - How to order the tokens (marketCap | chainId)
- `orderDir` - Direction of the ordering (asc | desc)
- `search` - Search a token by its address, name or symbol
- `filterByChainId` - Only show tokens from a certain chain
- `filterWhitelist` - Filter results by the project whitelist (true | false)
- `page` - Page to return (default: 1)
- `perPage` - Amount of tokens returned per page (default: 10, max: 100)
- `projectId` - The projectId you want to know the whitelist

**Status de Retorno:**
- `200` - Lista de tokens whitelist
- `400` - Par√¢metros inv√°lidos
- `500` - Erro interno do servidor

---

## üí∞ Fiat Operations

### 3. Create Fiat Deposit Quote
**Endpoint:** `POST /fiat/deposit/quote`

```bash
curl -X POST "$BASE_URL/fiat/deposit/quote" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "paymentMethodToSend": "PIX",
    "amountToSendInFiatCurrency": 100,
    "receiveCryptoCurrency": "USDC",
    "individualId": "individual_123",
    "chainId": 137,
    "walletAddress": "0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6"
  }'
```

**Request Body:**
- `paymentMethodToSend` (string, required) - M√©todo de pagamento (ACH | PIX | WIRE | SPEI)
- `amountToSendInFiatCurrency` (number, required) - Valor em moeda fiat (min: 0.01)
- `receiveCryptoCurrency` (string, required) - Criptomoeda a receber (USDC | BRZ)
- `individualId` (string, required) - ID do individual
- `chainId` (number, required) - Chain onde o token ser√° enviado
- `walletAddress` (string, required) - Endere√ßo da wallet (formato: 0x[a-fA-F0-9]{40})

**Supported Chains by Cryptocurrency:**
- **USDC:** [1, 137, 8453, 42161] (Ethereum, Polygon, Base, Arbitrum)
- **BRZ:** [137] (Polygon)

**Response Examples:**

**Success (201):**
```json
{
  "depositQuote": {
    "quoteId": "123e4567-e89b-12d3-a456-426614174000",
    "expiresAt": "2023-12-31T23:59:59.999Z",
    "amountToSendInFiatCurrency": 100,
    "receiveCryptoCurrency": "USDC",
    "amountToReceiveInCryptoCurrency": 95.5,
    "exchangeRate": 0.955,
    "fees": {
      "total": 4.5,
      "breakdown": {
        "processing": 2.0,
        "network": 1.5,
        "service": 1.0
      }
    }
  }
}
```

**Error (400) - Token Not Supported:**
```json
{
  "statusCode": 400,
  "id": "CRYPTO_TOKEN_NOT_SUPPORTED_ON_CHAIN_WITH_ALTERNATIVES",
  "message": "The token 'undefined' is not supported on any fiat chains"
}
```

**Error (500) - Failed to Get Quote:**
```json
{
  "statusCode": 500,
  "id": "FAILED_TO_GET_FIAT_QUOTE",
  "message": "string"
}
```

**Status de Retorno:**
- `201` - Quote criada com sucesso
- `400` - Token n√£o suportado na chain (CRYPTO_TOKEN_NOT_SUPPORTED_ON_CHAIN_WITH_ALTERNATIVES)
- `500` - Erro interno do servidor (FAILED_TO_GET_FIAT_QUOTE)

### 4. Create Fiat Deposit Order
**Endpoint:** `POST /fiat/deposit`

```bash
curl -X POST "$BASE_URL/fiat/deposit" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "quoteId": "123e4567-e89b-12d3-a456-426614174000"
  }'
```

**Request Body:**
- `quoteId` (string, required) - ID da cota√ß√£o de dep√≥sito

**Response Examples:**

**Success (201):**
```json
{
  "depositOrder": {
    "expiresAt": "2023-12-31T23:59:59.999Z",
    "orderId": "123e4567-e89b-12d3-a456-426614174000",
    "paymentMethodToSendDetails": {
      "type": "PIX",
      "pixKey": "00020101021226990014br.gov.bcb.pix2577pix.bancogenial.com/qrs1/v2/01snLCV5RHN6V3HVjx5abuLYzECFx4hFwmPZgzIRuAbagzHbvA52040000530398654041.005802BR59213rz Servicos Digitais6014Rio de Janeiro62070503***63048B38",
      "base64QrCode": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="
    }
  }
}
```

**Error (400) - Quote Expired:**
```json
{
  "statusCode": 400,
  "id": "FIAT_QUOTE_EXPIRED",
  "message": "The quote with id '03dbe93b-b259-480b-9fb6-3684ad5b28ba' has expired"
}
```

**Error (404) - Quote Not Found:**
```json
{
  "statusCode": 404,
  "id": "FIAT_QUOTE_NOT_FOUND",
  "message": "The quote with id '03dbe93b-b259-480b-9fb6-3684ad5b28ba' was not found"
}
```

**Status de Retorno:**
- `201` - Ordem de dep√≥sito criada com sucesso
- `400` - Quote expirada (FIAT_QUOTE_EXPIRED)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Quote n√£o encontrada (FIAT_QUOTE_NOT_FOUND)
- `500` - Erro interno do servidor (FAILED_TO_CREATE_FIAT_DEPOSIT)

### 5. Create Fiat Withdrawal Quote
**Endpoint:** `POST /fiat/withdraw/quote`

```bash
curl -X POST "$BASE_URL/fiat/withdraw/quote" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "individualId": "12345678901",
    "chainId": 137,
    "paymentMethodToReceiveDetails": {
      "type": "PIX",
      "pixKey": "my@email.com"
    },
    "amountToSendInCryptoCurrency": "100",
    "cryptoCurrencyToSend": "USDC"
  }'
```

**Request Body:**
- `individualId` (string, required) - ID usado para KYC e verifica√ß√£o de propriedade do sistema de moeda fiat
- `chainId` (number, required) - Chain de onde o token ser√° enviado
- `paymentMethodToReceiveDetails` (object, required) - M√©todo para receber a moeda fiat
  - `type` (string) - Tipo de m√©todo (PIX)
  - `pixKey` (string) - Chave PIX que receber√° a moeda fiat
- `amountToSendInCryptoCurrency` (string, required) - Quantidade de criptomoeda a enviar
- `cryptoCurrencyToSend` (string, required) - Criptomoeda a enviar (USDC | BRZ)
- `transactionFeePercent` (number, optional) - Percentual de taxa (0 a 99%)

**Supported Chains by Cryptocurrency:**
- **USDC:** [1, 137, 8453, 42161] (Ethereum, Polygon, Base, Arbitrum)
- **BRZ:** [137] (Polygon)

**Response Examples:**

**Success (201):**
```json
{
  "withdrawQuote": {
    "quoteId": "123e4567-e89b-12d3-a456-426614174000",
    "cryptoCurrencyToSend": "USDC",
    "fiatCurrencyToReceive": "BRL",
    "amountToSendInCryptoCurrency": "100",
    "amountToReceiveInFiatCurrency": "100",
    "transactionFeeInCryptoCurrency": "10",
    "estimatedGasFeeInCryptoCurrency": "10",
    "expiresAt": "2021-01-01T00:00:00.000Z"
  }
}
```

**Error (400) - Token Not Supported:**
```json
{
  "statusCode": 400,
  "id": "CRYPTO_TOKEN_NOT_SUPPORTED_ON_CHAIN_WITH_ALTERNATIVES",
  "message": "The token 'undefined' is not supported on any fiat chains"
}
```

**Error (500) - Failed to Get Quote:**
```json
{
  "statusCode": 500,
  "id": "FAILED_TO_GET_FIAT_QUOTE",
  "message": "string"
}
```

**Status de Retorno:**
- `201` - Quote de saque criada com sucesso
- `400` - Token n√£o suportado na chain (CRYPTO_TOKEN_NOT_SUPPORTED_ON_CHAIN_WITH_ALTERNATIVES)
- `500` - Erro interno do servidor (FAILED_TO_GET_FIAT_QUOTE)

### 6. Create Fiat Withdrawal Order
**Endpoint:** `POST /fiat/withdraw`

```bash
curl -X POST "$BASE_URL/fiat/withdraw" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "quoteId": "12345678-1234-1234-1234-123456789012",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464"
  }'
```

**Request Body:**
- `quoteId` (string, required) - ID da cota√ß√£o gerada pelo endpoint Withdrawal Quote
- `walletAddress` (string, required) - Wallet que enviar√° os tokens para saque (formato: 0x[a-fA-F0-9]{40})

**Response Examples:**

**Success (201):**
```json
{
  "withdrawOrder": {
    "expiresAt": "2023-12-31T23:59:59.999Z",
    "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "userOpHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "authorization": {},
    "orderId": "123e4567-e89b-12d3-a456-426614174000",
    "amountToSendInCryptoCurrency": "100",
    "amountToReceiveInFiatCurrency": "100",
    "transactionFeeAmountInCryptoCurrency": "100",
    "estimatedGasFeeAmountInCryptoCurrency": "100"
  }
}
```

**Error (400) - Quote Expired:**
```json
{
  "statusCode": 400,
  "id": "FIAT_QUOTE_EXPIRED",
  "message": "The quote with id '03dbe93b-b259-480b-9fb6-3684ad5b28ba' has expired"
}
```

**Error (401) - Unauthorized:**
```json
{
  "statusCode": 401,
  "id": "UNAUTHORIZED_EXCEPTION",
  "message": "Unauthorized"
}
```

**Error (404) - Quote Not Found:**
```json
{
  "statusCode": 404,
  "id": "FIAT_QUOTE_NOT_FOUND",
  "message": "The quote with id '03dbe93b-b259-480b-9fb6-3684ad5b28ba' was not found"
}
```

**Error (500) - Failed to Create:**
```json
{
  "statusCode": 500,
  "id": "FAILED_TO_CREATE_FIAT_DEPOSIT",
  "message": "Failed to create fiat deposit for quote"
}
```

**Status de Retorno:**
- `201` - Ordem de saque criada com sucesso
- `400` - Quote expirada (FIAT_QUOTE_EXPIRED)
- `401` - N√£o autorizado (UNAUTHORIZED_EXCEPTION)
- `404` - Quote n√£o encontrada (FIAT_QUOTE_NOT_FOUND)
- `500` - Erro interno do servidor (FAILED_TO_CREATE_FIAT_DEPOSIT)

---

## üÜî Know Your Customer (KYC)

### 7. Create Standard Individual Verification Session
**Endpoint:** `POST /kyc/individual-verification-sessions/standard`

Cria uma nova sess√£o de verifica√ß√£o KYC para um indiv√≠duo. Inicia o processo de verifica√ß√£o de identidade coletando informa√ß√µes pessoais e detalhes do documento. A sess√£o gerar√° URLs de upload para imagens de documentos e pode opcionalmente exigir verifica√ß√£o de liveness.

```bash
curl -X POST "$BASE_URL/kyc/individual-verification-sessions/standard" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "firstName": "Jo√£o",
    "lastName": "Silva",
    "birthDate": "1990-01-01",
    "documentCategory": "PASSPORT",
    "documentCountry": "BRAZIL",
    "documentId": "12345678901",
    "nationality": "BRAZILIAN",
    "livenessRequired": true,
    "email": "joao@example.com",
    "address": "Rua das Flores, 123",
    "city": "S√£o Paulo",
    "state": "SP",
    "postalCode": "01234-567"
  }'
```

**Response (200 OK):**
```json
{
  "session": {
    "id": "string",
    "individualId": "string",
    "status": "PENDING",
    "livenessRequired": true,
    "firstName": "string",
    "lastName": "string",
    "birthDate": "string",
    "document": {
      "id": "string",
      "type": "string",
      "category": "string"
    },
    "createdAt": "string",
    "updatedAt": "string"
  },
  "backDocument": {
    "url": "string",
    "fields": {
      "bucket": "string",
      "X-Amz-Algorithm": "string",
      "X-Amz-Credential": "string",
      "X-Amz-Date": "string",
      "key": "string",
      "Policy": "string",
      "X-Amz-Signature": "string"
    }
  },
  "frontDocument": {
    "url": "string",
    "fields": {
      "bucket": "string",
      "X-Amz-Algorithm": "string",
      "X-Amz-Credential": "string",
      "X-Amz-Date": "string",
      "key": "string",
      "Policy": "string",
      "X-Amz-Signature": "string"
    }
  }
}
```

**Campos obrigat√≥rios:**
- `firstName` (string): Nome do indiv√≠duo
- `lastName` (string): Sobrenome do indiv√≠duo
- `birthDate` (string): Data de nascimento
- `documentCategory` (string): Categoria do documento (PASSPORT | DRIVERS_LICENSE | IDENTITY_CARD)
- `documentCountry` (string): Pa√≠s do documento (BRAZIL | AFGHANISTAN | ALBANIA | ...)
- `documentId` (string): ID do documento (apenas n√∫meros)
- `livenessRequired` (boolean): Se √© necess√°rio verifica√ß√£o de liveness
- `email` (string): Email do indiv√≠duo
- `address` (string): Endere√ßo do indiv√≠duo
- `city` (string): Cidade do indiv√≠duo
- `state` (string): Estado do indiv√≠duo
- `postalCode` (string): C√≥digo postal do indiv√≠duo

**Campos opcionais:**
- `nationality` (string): Nacionalidade (AFGHAN | ALBANIAN | ALGERIAN | ...)

**Status de Retorno:**
- `200` - Sess√£o KYC criada com URLs de upload
- `400` - Dados inv√°lidos
- `500` - Erro interno do servidor

### 8. Get Standard Individual Verification Session Result
**Endpoint:** `GET /kyc/individual-verification-sessions/standard/{sessionId}`

Recupera o status atual e resultados de uma sess√£o de verifica√ß√£o individual padr√£o. Este endpoint permite verificar o progresso e resultado de um processo de verifica√ß√£o KYC.

```bash
curl -X GET "$BASE_URL/kyc/individual-verification-sessions/standard/session_123" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "session": {
    "id": "string",
    "individualId": "string",
    "status": "PENDING",
    "livenessRequired": true,
    "firstName": "string",
    "lastName": "string",
    "birthDate": "string",
    "document": {
      "id": "string",
      "type": "string",
      "category": "string"
    },
    "createdAt": "string",
    "updatedAt": "string"
  }
}
```

**Path Parameters:**
- `sessionId` (string, required): ID da sess√£o de verifica√ß√£o

**Status de Retorno:**
- `200` - Status da verifica√ß√£o (PENDING, VERIFYING, COMPLETED, FAILED)
- `400` - SessionId inv√°lido
- `500` - Erro interno do servidor

### 9. Process Standard Individual Verification Session
**Endpoint:** `POST /kyc/individual-verification-sessions/standard/{sessionId}/process`

Processa uma sess√£o de verifica√ß√£o individual padr√£o ap√≥s o upload dos documentos. Este endpoint aciona o processo de verifica√ß√£o real usando as imagens de documentos carregadas e as informa√ß√µes pessoais fornecidas durante a cria√ß√£o da sess√£o.

```bash
curl -X POST "$BASE_URL/kyc/individual-verification-sessions/standard/session_123/process" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (204 No Content):**
```
Empty response body
```

**Path Parameters:**
- `sessionId` (string, required): ID da sess√£o de verifica√ß√£o

**Status de Retorno:**
- `204` - Sess√£o processada com sucesso (No Content)
- `400` - SessionId inv√°lido ou documentos n√£o encontrados
- `500` - Erro interno do servidor

---

## üèä Liquidity Pools

### 10. List Liquidity Pools
**Endpoint:** `GET /liquidity/pools`

Lista pools de liquidez que existem na blockchain. O pool pode estar em estado quebrado, como tendo quase nenhuma liquidez. Use os dados retornados por este endpoint para avaliar se o pool vale a pena investir. Escolha o intervalo de agrega√ß√£o para controlar tanto granularidade quanto intervalo de tempo: DAILY (√∫ltimos 30 dias), WEEKLY (√∫ltimas 12 semanas), MONTHLY (√∫ltimos 12 meses).

```bash
curl -X GET "$BASE_URL/liquidity/pools?take=10&offset=0&chainIds=42161&tokensAddresses=0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f&filterWhitelist=true&rangeInDays=30" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "pools": [
    {
      "provider": {
        "name": "XY",
        "logoUrl": "https://assets.notus.team/Lifi.png",
        "explorerURL": "https://explorer.li.fi"
      },
      "address": "0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640",
      "chain": {
        "id": 137,
        "name": "POLYGON",
        "logo": "https://logopolygon.com"
      },
      "fee": 0.05,
      "totalValueLockedUSD": "10000.453",
      "tokens": [
        {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "poolShareInPercentage": 50.5,
          "poolShare": 1000.25,
          "logo": "https://assets.notus.team/wbtc.png"
        }
      ],
      "stats": {
        "rangeInDays": 30,
        "feesInUSD": "1500.75",
        "volumeInUSD": "50000.25",
        "transactionsCount": 1250
      }
    }
  ]
}
```

**Query Parameters:**
- `take` (integer, optional): M√°ximo de pools por p√°gina (1-50, padr√£o: 10)
- `offset` (integer, optional): N√∫mero de pools para pular (usado para pagina√ß√£o)
- `chainIds` (array<number>, optional): Filtrar por chains (Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137)
- `tokensAddresses` (array<string>, optional): Filtrar por endere√ßos de tokens
- `filterWhitelist` (string, optional): Filtrar por whitelist do projeto (true | false, padr√£o: true)
- `rangeInDays` (integer, optional): N√∫mero de dias para agregar estat√≠sticas (1-365, padr√£o: 30)
- `ids` (array<string>, optional): Filtrar por IDs de pools

**Status de Retorno:**
- `200` - Lista de pools de liquidez
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `500` - Erro interno do servidor

### 11. Get Liquidity Pool
**Endpoint:** `GET /liquidity/pools/{id}`

Obt√©m um pool de liquidez por ID com estat√≠sticas agregadas. Retorna informa√ß√µes detalhadas sobre o pool, incluindo tokens, TVL, taxas e estat√≠sticas de volume e transa√ß√µes.

```bash
curl -X GET "$BASE_URL/liquidity/pools/pool_123?rangeInDays=30" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "pool": {
    "provider": {
      "name": "XY",
      "logoUrl": "https://assets.notus.team/Lifi.png",
      "explorerURL": "https://explorer.li.fi"
    },
    "address": "0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640",
    "chain": {
      "id": 137,
      "name": "POLYGON",
      "logo": "https://logopolygon.com"
    },
    "fee": 0.05,
    "totalValueLockedUSD": "10000.453",
    "tokens": [
      {
        "name": "Wrapped Bitcoin",
        "symbol": "WBTC",
        "decimals": 18,
        "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
        "poolShareInPercentage": 50.5,
        "poolShare": 1000.25,
        "logo": "https://assets.notus.team/wbtc.png"
      }
    ],
    "stats": {
      "rangeInDays": 30,
      "feesInUSD": "1500.75",
      "volumeInUSD": "50000.25",
      "transactionsCount": 1250
    }
  }
}
```

**Path Parameters:**
- `id` (string, required): Identificador √∫nico do pool (1 <= length)

**Query Parameters:**
- `rangeInDays` (integer, optional): N√∫mero de dias para agregar estat√≠sticas (1-365, padr√£o: 30)

**Status de Retorno:**
- `200` - Pool com estat√≠sticas agregadas
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)

### 12. Create Liquidity
**Endpoint:** `POST /liquidity/create`

Este endpoint cria liquidez para um pool de liquidez. Permite fornecer liquidez a um pool existente ou criar um novo pool com tokens espec√≠ficos, definindo faixas de pre√ßo e taxas de pool.

```bash
curl -X POST "$BASE_URL/liquidity/create" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "liquidityProvider": "UNISWAP_V3",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "toAddress": "0x1337133713371337133713371337133713371337",
    "chainId": 42161,
    "transactionFeePercent": 5,
    "payGasFeeToken": "0x82af49447d8a07e3bd95bd0d56f35241523fbab1",
    "gasFeePaymentMethod": "ADD_TO_AMOUNT",
    "token0": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
    "token1": "0xaf88d065e77c8cc2239327c5edb3a432268e5831",
    "poolFeePercent": 1,
    "token0Amount": "26.2345",
    "token1Amount": "1823.2",
    "minPrice": 83475.12,
    "maxPrice": 102300.5,
    "slippage": 0.5,
    "metadata": {
      "key": "value"
    }
  }'
```

**Response (200 OK):**
```json
{
  "operation": {
    "metadata": {
      "key": "value"
    },
    "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "expiresAt": "2025-10-26T13:27:49.542Z",
    "amounts": [
      {
        "token": {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "logoURL": "https://assets.notus.team/wbtc.png"
        },
        "amount": "26.2345",
        "amountIn": {
          "btc": "1234.98765",
          "eth": "1234.98765",
          "usd": "1234.98765"
        }
      }
    ],
    "collectedFees": [],
    "chain": {
      "id": 42161,
      "name": "ARBITRUM_ONE",
      "logo": "https://assets.notus.team/arbitrum.png"
    },
    "liquidityProvider": "UNISWAP_V3",
    "nftAddress": "0xc36442b4a4522e871399cd717abdd847ab11fe88"
  }
}
```

**Campos obrigat√≥rios:**
- `walletAddress` (string): Endere√ßo da wallet que fornecer√° liquidez (formato hexadecimal)
- `toAddress` (string): Endere√ßo que receber√° o token NFT representando a liquidez (formato hexadecimal)
- `chainId` (number): ID da blockchain (Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137)
- `payGasFeeToken` (string): Endere√ßo do token para pagar taxa (formato hexadecimal)
- `gasFeePaymentMethod` (string): M√©todo de pagamento da taxa (ADD_TO_AMOUNT | DEDUCT_FROM_AMOUNT)
- `token0` (string): Endere√ßo de um dos tokens do pool (formato hexadecimal)
- `token1` (string): Endere√ßo do outro token do pool (formato hexadecimal)
- `poolFeePercent` (number): Taxa do pool (0.01-100)
- `token0Amount` (string): Quantidade de token0 a adicionar
- `token1Amount` (string): Quantidade de token1 a adicionar
- `minPrice` (number): Pre√ßo m√≠nimo para liquidez ativa
- `maxPrice` (number): Pre√ßo m√°ximo para liquidez ativa

**Campos opcionais:**
- `liquidityProvider` (string): Provedor de liquidez (UNISWAP_V3)
- `transactionFeePercent` (number): Percentual de taxa (0-99.99)
- `slippage` (number): Slippage m√°ximo (0.5-99, padr√£o: 0.5)
- `metadata` (object): Metadados customizados (m√°ximo 1KB)

**Status de Retorno:**
- `200` - Liquidez criada com sucesso
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Wallet n√£o registrada (ACCOUNT_ABSTRACTION_ADDRESS_NOT_REGISTERED_WITH_PROJECT)

### 13. Change Liquidity
**Endpoint:** `POST /liquidity/change`

Altera a quantidade de liquidez fornecida em um pool de liquidez. Permite adicionar ou remover liquidez de um pool existente usando o tokenId do NFT que representa a liquidez.

```bash
curl -X POST "$BASE_URL/liquidity/change" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "liquidityProvider": "UNISWAP_V3",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "chainId": 42161,
    "payGasFeeToken": "0x82af49447d8a07e3bd95bd0d56f35241523fbab1",
    "gasFeePaymentMethod": "ADD_TO_AMOUNT",
    "transactionFeePercent": 5,
    "tokenId": "2375619234",
    "change": {
      "token0": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
      "token1": "0xaf88d065e77c8cc2239327c5edb3a432268e5831",
      "token0Amount": "26.2345",
      "token1Amount": "1823.2",
      "slippage": 0.5
    },
    "metadata": {
      "key": "value"
    }
  }'
```

**Response (200 OK):**
```json
{
  "operation": {
    "metadata": {
      "key": "value"
    },
    "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "expiresAt": "2025-10-26T13:27:49.542Z",
    "amounts": "7239.2",
    "collectedFees": [
      {
        "token": {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "logoURL": "https://assets.notus.team/wbtc.png"
        },
        "cryptoCurrency": {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "logoURL": "https://assets.notus.team/wbtc.png"
        },
        "amount": "3342.7389263",
        "amountIn": {
          "btc": "1234.98765",
          "eth": "1234.98765",
          "usd": "1234.98765"
        }
      }
    ],
    "chain": 42161,
    "liquidityProvider": "UNISWAP_V3",
    "nftAddress": "0xc36442b4a4522e871399cd717abdd847ab11fe88"
  }
}
```

**Campos obrigat√≥rios:**
- `walletAddress` (string): Endere√ßo da wallet (formato hexadecimal)
- `chainId` (number): ID da blockchain (Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137)
- `payGasFeeToken` (string): Endere√ßo do token para pagar taxa (formato hexadecimal)
- `gasFeePaymentMethod` (string): M√©todo de pagamento da taxa (ADD_TO_AMOUNT | DEDUCT_FROM_AMOUNT)
- `tokenId` (string): ID do NFT que representa a liquidez
- `change` (object): Objeto com detalhes da mudan√ßa
  - `token0` (string): Endere√ßo de um dos tokens do pool
  - `token1` (string): Endere√ßo do outro token do pool
  - `token0Amount` (string): Quantidade de token0 (valores negativos permitidos)
  - `token1Amount` (string): Quantidade de token1 (valores negativos permitidos)

**Campos opcionais:**
- `liquidityProvider` (string): Provedor de liquidez (UNISWAP_V3)
- `transactionFeePercent` (number): Percentual de taxa (0-99.99)
- `change.slippage` (number): Slippage m√°ximo (0.5-99, padr√£o: 0.5)
- `metadata` (object): Metadados customizados (m√°ximo 1KB)

**Status de Retorno:**
- `200` - Liquidez alterada com sucesso
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Wallet n√£o registrada (ACCOUNT_ABSTRACTION_ADDRESS_NOT_REGISTERED_WITH_PROJECT)
- `500` - Erro na blockchain (BLOCKCHAIN_ERROR)

### 14. Collect Fees from Liquidity
**Endpoint:** `POST /liquidity/collect`

Coleta as taxas recebidas pelo NFT de liquidez. Isso criar√° uma opera√ß√£o de usu√°rio para ser executada e mostrar√° quanto ser√° coletado, para que voc√™ possa escolher se realmente quer coletar ou n√£o. Sempre coleta o valor total.

```bash
curl -X POST "$BASE_URL/liquidity/collect" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "liquidityProvider": "UNISWAP_V3",
    "chainId": 42161,
    "nftId": "2375619234",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "payGasFeeToken": "0x82af49447d8a07e3bd95bd0d56f35241523fbab1",
    "metadata": {
      "key": "value"
    }
  }'
```

**Response (200 OK):**
```json
{
  "operation": {
    "metadata": {
      "key": "value"
    },
    "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "expiresAt": "2025-10-26T13:27:49.542Z",
    "amounts": "7239.2",
    "collectedFees": [
      {
        "token": {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "logoURL": "https://assets.notus.team/wbtc.png"
        },
        "cryptoCurrency": {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "logoURL": "https://assets.notus.team/wbtc.png"
        },
        "amount": "3342.7389263",
        "amountIn": {
          "btc": "1234.98765",
          "eth": "1234.98765",
          "usd": "1234.98765"
        }
      }
    ],
    "chain": 42161,
    "liquidityProvider": "UNISWAP_V3",
    "nftAddress": "0xc36442b4a4522e871399cd717abdd847ab11fe88"
  }
}
```

**Campos obrigat√≥rios:**
- `chainId` (number): ID da blockchain (Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137)
- `nftId` (string): ID do NFT que representa a liquidez
- `walletAddress` (string): Endere√ßo da wallet (formato hexadecimal)
- `payGasFeeToken` (string): Endere√ßo do token para pagar taxa (formato hexadecimal)

**Campos opcionais:**
- `liquidityProvider` (string): Provedor de liquidez (UNISWAP_V3)
- `metadata` (object): Metadados customizados (m√°ximo 1KB)

**Status de Retorno:**
- `200` - Taxas coletadas com sucesso
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `500` - Erro na blockchain (BLOCKCHAIN_ERROR)

### 15. Get Liquidity Amounts
**Endpoint:** `GET /liquidity/amounts`

Obt√©m as quantidades de tokens necess√°rias para fornecer liquidez a um pool baseado no m√°ximo que voc√™ quer gastar em um token. Voc√™ pode passar o valor m√°ximo para ambos os tokens e receber cota√ß√µes para os dois cen√°rios poss√≠veis, assim voc√™ pode verificar em uma √∫nica chamada qual op√ß√£o funciona baseado nas quantidades que seu usu√°rio tem.

```bash
curl -X GET "$BASE_URL/liquidity/amounts?liquidityProvider=UNISWAP_V3&chainId=42161&token0=0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f&token1=0xaf88d065e77c8cc2239327c5edb3a432268e5831&poolFeePercent=1&token0MaxAmount=100&token1MaxAmount=100&minPrice=83475.12&maxPrice=102300.5&payGasFeeToken=0x82af49447d8a07e3bd95bd0d56f35241523fbab1&gasFeePaymentMethod=ADD_TO_AMOUNT" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "poolPrice": "18342.234512",
  "amounts": {
    "token0MaxAmount": {
      "token0Amount": "2345.91",
      "token1Amount": "723.123"
    },
    "token1MaxAmount": {
      "token0Amount": "2345.91",
      "token1Amount": "723.123"
    }
  }
}
```

**Query Parameters obrigat√≥rios:**
- `chainId` (number): ID da blockchain (Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137)
- `token0` (string): Endere√ßo de um dos tokens do pool (formato hexadecimal)
- `token1` (string): Endere√ßo do outro token do pool (formato hexadecimal)
- `poolFeePercent` (number): Taxa do pool (0.01-100)
- `token0MaxAmount` (string): Quantidade m√°xima de token0 (padr√£o: "1")
- `token1MaxAmount` (string): Quantidade m√°xima de token1 (padr√£o: "1")
- `minPrice` (number): Pre√ßo m√≠nimo para liquidez ativa
- `maxPrice` (number): Pre√ßo m√°ximo para liquidez ativa
- `payGasFeeToken` (string): Endere√ßo do token para pagar taxa (formato hexadecimal)
- `gasFeePaymentMethod` (string): M√©todo de pagamento da taxa (ADD_TO_AMOUNT | DEDUCT_FROM_AMOUNT)

**Query Parameters opcionais:**
- `liquidityProvider` (string): Provedor de liquidez (UNISWAP_V3)

**Exemplo de uso:**
Seu usu√°rio quer fornecer liquidez ao pool ETH-USDC e tem 100 USDC e 100 ETH na wallet. Passando ambos como valores m√°ximos em `tokenXMaxAmount`, voc√™ receber√° duas cota√ß√µes: uma dizendo quanto ETH voc√™ precisa fornecer se enviar 100 USDC e outra dizendo quanto USDC voc√™ precisa fornecer dado 100 ETH. Ent√£o voc√™ pode escolher qual op√ß√£o realmente se encaixa na liquidez que seu usu√°rio tem.

**Nota:** Se apenas um deles for retornado, significa que a faixa de pre√ßo est√° fora do pre√ßo atual, ent√£o apenas um token pode ser fornecido para criar liquidez, o outro sempre ser√° zero.

**Status de Retorno:**
- `200` - Quantidades de tokens necess√°rias
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `500` - Erro na blockchain (BLOCKCHAIN_ERROR)

### 16. Get Pool Historical Data
**Endpoint:** `GET /crypto/liquidity/pools/{poolId}/historical-data`

```bash
curl -X GET "$BASE_URL/crypto/liquidity/pools/pool_123/historical-data?days=30" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Status de Retorno:**
- `200` - Dados hist√≥ricos do pool
- `400` - PoolId inv√°lido ou par√¢metros incorretos
- `500` - Erro interno do servidor

---

## üîê Smart Wallets

### 17. Register Smart Wallet
**Endpoint:** `POST /wallets/register`

Este endpoint registra uma nova smart wallet para um usu√°rio, vinculando esta wallet ao seu projeto. Voc√™ pode verificar se a wallet j√° foi registrada verificando o valor _registeredAt_ do endpoint _Check Smart Wallet_.

```bash
curl -X POST "$BASE_URL/wallets/register" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "externallyOwnedAccount": "0x133700000000000000000000000000000000c0de",
    "factory": "0x0000000000400cdfef5e2714e63d8040b700bc24",
    "salt": "12345",
    "eip7702": false,
    "metadata": {
      "name": "My Smart Wallet",
      "description": "Primary wallet for DeFi operations"
    }
  }'
```

**Response (200 OK):**
```json
{
  "wallet": {
    "metadata": {
      "key": "value"
    },
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "accountAbstraction": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "externallyOwnedAccount": "0x133700000000000000000000000000000000c0de",
    "factory": "0x0000000000400cdfef5e2714e63d8040b700bc24",
    "implementation": "0x8e8e658e22b12ada97b402ff0b044d6a325013c7",
    "eip7702": false,
    "deployed": [
      {
        "chain": {
          "id": 137,
          "name": "POLYGON",
          "logo": "https://logopolygon.com"
        },
        "deployed": true
      }
    ],
    "salt": 12345,
    "registeredAt": "2025-08-06T16:57:09.249Z"
  }
}
```

**Request Body:**
- `externallyOwnedAccount` (string, required): Endere√ßo p√∫blico da EOA que assinar√° as transa√ß√µes, o propriet√°rio da wallet de abstra√ß√£o de conta
- `factory` (string, required): Endere√ßo do contrato factory que cria o contrato da wallet de abstra√ß√£o de conta
- `salt` (string, optional): N√∫mero salt usado para gerar esta wallet. Se nenhum for fornecido, o padr√£o √© zero. Cada salt gera uma nova smart wallet para o mesmo usu√°rio
- `eip7702` (boolean, optional): Se voc√™ quer fazer deploy usando o padr√£o EIP7702, que permite que a EOA defina um contrato como seu pr√≥prio c√≥digo de contrato. O valor padr√£o √© False
- `metadata` (object, optional): Metadados personalizados para a entidade. Pares chave-valor com valores string. Tamanho m√°ximo 1KB

**Response Fields:**
- `wallet.metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
- `wallet.walletAddress` (string): Endere√ßo da smart wallet em formato hexadecimal
- `wallet.accountAbstraction` (string): DEPRECATED - Use walletAddress ao inv√©s
- `wallet.externallyOwnedAccount` (string): Endere√ßo do propriet√°rio da wallet que assina as opera√ß√µes de usu√°rio
- `wallet.factory` (string): Endere√ßo do contrato factory que criar√° o contrato de abstra√ß√£o de conta
- `wallet.implementation` (string): Endere√ßo do contrato de implementa√ß√£o, este contrato √© o contrato efetivo da smart wallet
- `wallet.eip7702` (boolean): Se esta wallet est√° usando EIP7702
- `wallet.deployed` (array): Estado de deploy do contrato da wallet em cada blockchain
- `wallet.salt` (string): N√∫mero salt usado para gerar esta wallet. Null para wallets EIP-7702
- `wallet.registeredAt` (string): Data em que a wallet foi registrada com este projeto, null se n√£o registrada

**Status de Retorno:**
- `200` - Smart wallet registrada com sucesso
- `400` - Wallet j√° registrada (WALLET_ALREADY_REGISTERED)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Projeto n√£o encontrado (PROJECT_NOT_FOUND)
- `500` - Falha no registro de tracking da wallet (REGISTER_WALLET_TRACKING_FAILED)

### 18. Get Smart Wallet
**Endpoint:** `GET /wallets/address`

Este endpoint recupera os detalhes da smart wallet de um usu√°rio, incluindo a data em que a wallet foi registrada com este projeto, ou _null_ se ainda n√£o foi registrada.

```bash
curl -X GET "$BASE_URL/wallets/address?externallyOwnedAccount=0x133700000000000000000000000000000000c0de&factory=0x0000000000400cdfef5e2714e63d8040b700bc24&salt=12345&eip7702=false" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "wallet": {
    "metadata": {
      "key": "value"
    },
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "accountAbstraction": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "externallyOwnedAccount": "0x133700000000000000000000000000000000c0de",
    "factory": "0x0000000000400cdfef5e2714e63d8040b700bc24",
    "implementation": "0x8e8e658e22b12ada97b402ff0b044d6a325013c7",
    "eip7702": false,
    "deployed": [
      {
        "chain": {
          "id": 137,
          "name": "POLYGON",
          "logo": "https://logopolygon.com"
        },
        "deployed": true
      }
    ],
    "salt": 12345,
    "registeredAt": "2025-08-06T16:57:09.249Z"
  }
}
```

**Query Parameters:**
- `externallyOwnedAccount` (string, required): Endere√ßo p√∫blico da EOA que assinar√° as transa√ß√µes, o propriet√°rio da wallet de abstra√ß√£o de conta
- `factory` (string, required): Endere√ßo do contrato factory que cria o contrato da wallet de abstra√ß√£o de conta
- `salt` (string, optional): N√∫mero salt usado para gerar esta wallet. Se nenhum for fornecido, o padr√£o √© zero. Cada salt gera uma nova smart wallet para o mesmo usu√°rio
- `eip7702` (boolean, optional): Se voc√™ quer fazer deploy usando o padr√£o EIP7702, que permite que a EOA defina um contrato como seu pr√≥prio c√≥digo de contrato. O valor padr√£o √© False

**Response Fields:**
- `wallet.metadata` (object): Metadados definidos para esta transa√ß√£o, null se nenhum
- `wallet.walletAddress` (string): Endere√ßo da smart wallet em formato hexadecimal
- `wallet.accountAbstraction` (string): DEPRECATED - Use walletAddress ao inv√©s
- `wallet.externallyOwnedAccount` (string): Endere√ßo do propriet√°rio da wallet que assina as opera√ß√µes de usu√°rio
- `wallet.factory` (string): Endere√ßo do contrato factory que criar√° o contrato de abstra√ß√£o de conta
- `wallet.implementation` (string): Endere√ßo do contrato de implementa√ß√£o, este contrato √© o contrato efetivo da smart wallet
- `wallet.eip7702` (boolean): Se esta wallet est√° usando EIP7702
- `wallet.deployed` (array): Estado de deploy do contrato da wallet em cada blockchain
- `wallet.salt` (string): N√∫mero salt usado para gerar esta wallet. Null para wallets EIP-7702
- `wallet.registeredAt` (string): Data em que a wallet foi registrada com este projeto, null se n√£o registrada

**Status de Retorno:**
- `200` - Detalhes da smart wallet
- `400` - Factory n√£o suportada (FACTORY_NOT_SUPPORTED)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Projeto n√£o encontrado (PROJECT_NOT_FOUND)

### 19. Get Smart Wallets by Project
**Endpoint:** `GET /wallets`

Este endpoint lista todas as smart wallets do projeto.

```bash
curl -X GET "$BASE_URL/wallets" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "wallets": [
    {
      "metadata": {
        "key": "value"
      },
      "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
      "accountAbstraction": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
      "externallyOwnedAccount": "0x133700000000000000000000000000000000c0de",
      "factory": "0x0000000000400cdfef5e2714e63d8040b700bc24",
      "implementation": "0x8e8e658e22b12ada97b402ff0b044d6a325013c7",
      "eip7702": false,
      "deployed": [
        {
          "chain": {
            "id": 137,
            "name": "POLYGON",
            "logo": "https://logopolygon.com"
          },
          "deployed": true
        }
      ],
      "salt": 12345,
      "registeredAt": "2025-08-06T16:57:09.249Z"
    }
  ]
}
```

**Response Fields:**
- `wallets` (array): Lista de todas as wallets
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `walletAddress` (string): Endere√ßo da smart wallet em formato hexadecimal
  - `accountAbstraction` (string): DEPRECATED - Use walletAddress ao inv√©s
  - `externallyOwnedAccount` (string): Endere√ßo do propriet√°rio da wallet que assina as opera√ß√µes de usu√°rio
  - `factory` (string): Endere√ßo do contrato factory que criar√° o contrato de abstra√ß√£o de conta
  - `implementation` (string): Endere√ßo do contrato de implementa√ß√£o, este contrato √© o contrato efetivo da smart wallet
  - `eip7702` (boolean): Se esta wallet est√° usando EIP7702
  - `deployed` (array): Estado de deploy do contrato da wallet em cada blockchain
  - `salt` (string): N√∫mero salt usado para gerar esta wallet. Null para wallets EIP-7702
  - `registeredAt` (string): Data em que a wallet foi registrada com este projeto, null se n√£o registrada

**Status de Retorno:**
- `200` - Lista de smart wallets do projeto
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)

### 20. Get Smart Wallet Portfolio
**Endpoint:** `GET /wallets/{walletAddress}/portfolio`

Obt√©m o portfolio de uma smart wallet pelo seu endere√ßo de abstra√ß√£o de conta. O portfolio √© uma lista dos saldos do usu√°rio em diferentes tokens.

```bash
curl -X GET "$BASE_URL/wallets/0x6e397ddf51d9f15dbe0414538e7529f51f2e5464/portfolio" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "tokens": [
    {
      "address": "0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",
      "name": "Wrapped Bitcoin",
      "symbol": "WBTC",
      "decimals": 8,
      "logo": "https://wbtclogo.com",
      "chain": {
        "id": 137,
        "name": "POLYGON",
        "logo": "https://logopolygon.com"
      },
      "balance": "100000000",
      "balanceFormatted": "1",
      "balanceUsd": "2.1522",
      "priceUsd": "1.0"
    }
  ],
  "nfts": [
    {
      "address": "0xc36442b4a4522e871399cd717abdd847ab11fe88",
      "collection": {
        "name": "Uniswap V3 Positions NFT-V1",
        "symbol": "UNI-V3-POS",
        "logo": "https://univ3nft.com"
      },
      "tokenId": "2472425",
      "name": "Uniswap - 0.05% - USDT/WETH - 1517.8<>2550.4",
      "description": "This NFT represents a liquidity position in a Uniswap V3 USDT-WETH pool.",
      "image": "https://remilio.org/remilio/2830.png",
      "amount": "2450",
      "chain": {
        "id": 137,
        "name": "POLYGON",
        "logo": "https://logopolygon.com"
      }
    }
  ],
  "portfolio": [
    {
      "address": "0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",
      "name": "Wrapped Bitcoin",
      "symbol": "WBTC",
      "decimals": 8,
      "logo": "https://wbtclogo.com",
      "chain": {
        "id": 137,
        "name": "POLYGON",
        "logo": "https://logopolygon.com"
      },
      "balance": "100000000",
      "balanceFormatted": "1",
      "balanceUsd": "2.1522",
      "priceUsd": "1.0"
    }
  ]
}
```

**Path Parameters:**
- `walletAddress` (string, required): Endere√ßo da smart wallet (formato hexadecimal)

**Response Fields:**
- `tokens` (array): Lista de tokens possu√≠dos por esta wallet e seus saldos
  - `address` (string): Endere√ßo do contrato para este token
  - `name` (string): Nome deste token
  - `symbol` (string): S√≠mbolo para este token
  - `decimals` (number): M√°ximo de d√≠gitos decimais que este token pode ter
  - `logo` (string): URL para um logo deste token
  - `chain` (object): Detalhes sobre a chain onde o usu√°rio possui este token
  - `balance` (string): Saldo do token em formato raw como salvo na blockchain
  - `balanceFormatted` (string): Saldo do token formatado com a quantidade de decimais
  - `balanceUsd` (string): Saldo do token em USD
  - `priceUsd` (string): Pre√ßo em USD deste token
- `nfts` (array): Lista de NFTs possu√≠dos por esta wallet
  - `address` (string): Endere√ßo do contrato do NFT
  - `collection` (object): Detalhes sobre a cole√ß√£o do NFT
  - `tokenId` (string): ID do NFT possu√≠do pelo usu√°rio
  - `name` (string): Nome deste NFT
  - `description` (string): Descri√ß√£o do NFT dada em seus metadados
  - `image` (string): URI v√°lida para a imagem do NFT
  - `amount` (string): Quantidade deste NFT (EIP-1155)
  - `chain` (object): Informa√ß√µes sobre a chain onde o NFT existe
- `portfolio` (array, DEPRECATED): Use tokens ao inv√©s

**Status de Retorno:**
- `200` - Portfolio da smart wallet
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `500` - Erro ao decodificar metadados do NFT (NFT_METADATA_DECODE_FAILED)

### 21. Get Smart Wallet History
**Endpoint:** `GET /wallets/{walletAddress}/history`

Este endpoint recupera uma lista hist√≥rica de transa√ß√µes de uma smart wallet espec√≠fica com filtros. Tamb√©m retorna transa√ß√µes ainda pendentes de execu√ß√£o na blockchain.

```bash
curl -X GET "$BASE_URL/wallets/0xa2acc967a9fc4fd5d18351d06deb9b8718c18333/history?take=50&lastId=834ce153-ea11-4e8b-8644-f42814ad1787&type=SWAP&type=CROSS_SWAP&status=COMPLETED&status=FAILED&userOperationHash=0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1&transactionHash=0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1&chains=42161&chains=43114&chainInId=42161&chainOutId=43114&createdAtLatest=2025-02-04T20%3A24%3A47.022Z&createdAtOldest=2024-11-02T21%3A35%3A45.969Z&metadataKey=custom_field&metadataValue=custom_value" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "nextLastId": "f1d61925-d4ae-450a-9f74-ab55f5e6647b",
  "transactions": [
    {
      "metadata": {
        "key": "value"
      },
      "id": "f1d61925-d4ae-450a-9f74-ab55f5e6647b",
      "createdAt": "2025-08-20T19:32:23.581Z",
      "updatedAt": "2025-08-20T20:45:12.385Z",
      "executedAt": "2025-08-20T20:45:12.385Z",
      "status": "COMPLETED",
      "transactionHash": {
        "hash": "0x68232841f033cf0d9420b0197d667058ab463ed5a524b544f9d016576ca8e2fb",
        "explorerURL": "https://polygonscan.com/tx/0x68232841f033cf0d9420b0197d667058ab463ed5a524b544f9d016576ca8e2fb",
        "explorer": "PolygonScan"
      },
      "chain": {
        "id": 137,
        "name": "POLYGON",
        "logo": "https://logopolygon.com"
      },
      "type": "CRYPTO_DEPOSIT",
      "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
      "receivedBy": "0xa2acc967a9fc4fd5d18351d06deb9b8718c18333",
      "receivedFromAddress": "0xeca5dd1bfbdd52fb9d94438d2ea4d27acae33b72",
      "receivedCryptoCurrency": {
        "name": "Wrapped Bitcoin",
        "symbol": "WBTC",
        "decimals": 18,
        "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
        "logoURL": "https://assets.notus.team/wbtc.png"
      },
      "receivedAmount": {
        "token": {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "logoURL": "https://assets.notus.team/wbtc.png"
        },
        "cryptoCurrency": {
          "name": "Wrapped Bitcoin",
          "symbol": "WBTC",
          "decimals": 18,
          "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
          "logoURL": "https://assets.notus.team/wbtc.png"
        },
        "amount": "3342.7389263",
        "amountIn": {
          "btc": "1234.98765",
          "eth": "1234.98765",
          "usd": "1234.98765",
          "eur": "1234.98765",
          "brl": "1234.98765"
        }
      }
    }
  ]
}
```

**Path Parameters:**
- `walletAddress` (string, required): Endere√ßo da smart wallet para recuperar o hist√≥rico

**Query Parameters:**
- `take` (integer, optional): M√°ximo de transa√ß√µes por p√°gina (1-100, padr√£o: 100)
- `lastId` (string, optional): Cursor para pagina√ß√£o. ID da √∫ltima transa√ß√£o da p√°gina anterior
- `type` (array<string>, optional): Filtrar por tipo de transa√ß√£o
- `status` (array<string>, optional): Filtrar por status da transa√ß√£o
- `userOperationHash` (string, optional): Filtrar por hash espec√≠fico de opera√ß√£o de usu√°rio
- `transactionHash` (string, optional): Filtrar por hash espec√≠fico de transa√ß√£o
- `chains` (array<number>, optional): Filtrar por chains envolvidas na transa√ß√£o (Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137)
- `chainInId` (number, optional, DEPRECATED): Use chains ao inv√©s. Filtrar pela chain onde a transa√ß√£o come√ßou
- `chainOutId` (number, optional, DEPRECATED): Use chains ao inv√©s. Filtrar pela chain onde a transa√ß√£o terminou quando for cross-chain
- `createdAtLatest` (string, optional): Data mais recente para filtrar transa√ß√µes
- `createdAtOldest` (string, optional): Data mais antiga para filtrar transa√ß√µes
- `metadataKey` (string, optional): Chave de metadados para filtrar. Deve ser usada junto com metadataValue
- `metadataValue` (string, optional): Valor de metadados para filtrar. Deve ser usada junto com metadataKey

**Response Fields:**
- `nextLastId` (string): Pr√≥ximo ID de transa√ß√£o para pagina√ß√£o
- `transactions` (array): Lista de transa√ß√µes, pendentes ou executadas
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `id` (string): ID da transa√ß√£o, use para pagina√ß√£o
  - `createdAt` (string): Tempo em que a transa√ß√£o foi criada na API
  - `updatedAt` (string): √öltima vez que os detalhes da transa√ß√£o foram atualizados
  - `executedAt` (string): Tempo em que a transa√ß√£o foi executada na blockchain
  - `status` (string): Status atual da opera√ß√£o
  - `transactionHash` (object): Hash da transa√ß√£o que executou esta opera√ß√£o de usu√°rio
  - `chain` (object): Chain onde a opera√ß√£o de usu√°rio foi executada
  - `type` (string): Tipo de transa√ß√£o
  - `userOperationHash` (string): Hash √∫nico desta opera√ß√£o de usu√°rio espec√≠fica
  - `receivedBy` (string): Wallet que recebeu o ativo
  - `receivedFromAddress` (string): Endere√ßo que enviou o ativo para o usu√°rio
  - `receivedCryptoCurrency` (object, DEPRECATED): Use receivedAmount.cryptoCurrency ao inv√©s
  - `receivedAmount` (object): Quantia da moeda crypto que o usu√°rio recebeu

**Status de Retorno:**
- `200` - Hist√≥rico de transa√ß√µes
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Wallet n√£o registrada com o projeto (ACCOUNT_ABSTRACTION_ADDRESS_NOT_REGISTERED_WITH_PROJECT)

### 22. Create Deposit Transaction
**Endpoint:** `POST /wallets/{walletAddress}/deposit`

Este endpoint fornece uma transa√ß√£o para ser executada por um EOA para depositar fundos em uma smart wallet. Este √© um endpoint de conveni√™ncia para facilmente construir uma transfer√™ncia para ser executada pelo Metamask ou qualquer outra wallet EOA.

```bash
curl -X POST "$BASE_URL/wallets/0xa2acc967a9fc4fd5d18351d06deb9b8718c18333/deposit" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "amount": "101.25",
    "chainId": 42161,
    "token": "0x2791bca1f2de4661ed88a30c99a7a9449aa84174",
    "fromAddress": "0x6648e365a1b072797ee871d45691aead31b9d016"
  }'
```

**Response (200 OK):**
```json
{
  "transfer": {
    "from": "0x6648e365a1b072797ee871d45691aead31b9d016",
    "to": "0x2791bca1f2de4661ed88a30c99a7a9449aa84174",
    "value": "101250000000000000000",
    "data": "0xa9059cbb000000000000000000000000a2acc967a9fc4fd5d18351d06deb9b8718c183330000000000000000000000000000000000000000000000000E0D1F62B3154000",
    "estimateGasCost": "0.452"
  }
}
```

**Request Body:**
- `amount` (string, required): Quantia a ser transferida, expressa como string decimal
- `chainId` (number, required): Rede blockchain onde a transfer√™ncia executa (Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137)
- `token` (string, required): Endere√ßo do token sendo transferido. Para tokens nativos, use `0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee`
- `fromAddress` (string, required): Endere√ßo da wallet iniciando a transfer√™ncia

**Path Parameters:**
- `walletAddress` (string, required): Endere√ßo da smart wallet recebendo a transfer√™ncia

**Response Fields:**
- `transfer.from` (string): Endere√ßo da wallet iniciando a transfer√™ncia
- `transfer.to` (string): Destinat√°rio da transa√ß√£o (endere√ßo do token para ERC-20, endere√ßo da wallet para tokens nativos)
- `transfer.value` (string): Quantia a ser transferida como BigNumber string (0 para ERC-20, quantia para tokens nativos)
- `transfer.data` (string): Calldata da transa√ß√£o
- `transfer.estimateGasCost` (string): Custo estimado de gas da transa√ß√£o em moeda nativa

**Status de Retorno:**
- `200` - Transa√ß√£o de dep√≥sito criada com sucesso
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Wallet n√£o registrada com o projeto (ACCOUNT_ABSTRACTION_ADDRESS_NOT_REGISTERED_WITH_PROJECT)
- `500` - Falha ao estimar transfer√™ncia (FAILED_TO_ESTIMATE_TRANSFER)

### 23. Update Wallet Metadata
**Endpoint:** `PATCH /wallets/{walletId}/metadata`

Este endpoint atualiza os metadados para uma wallet espec√≠fica. Os metadados s√£o mesclados com os metadados existentes se presentes.

```bash
curl -X PATCH "$BASE_URL/wallets/0x6e397ddf51d9f15dbe0414538e7529f51f2e5464/metadata" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "metadata": {
      "property1": "string",
      "property2": "string"
    }
  }'
```

**Response (200 OK):**
```json
{
  "wallet": {
    "metadata": {
      "key": "value"
    },
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "accountAbstraction": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "externallyOwnedAccount": "0x133700000000000000000000000000000000c0de",
    "factory": "0x0000000000400cdfef5e2714e63d8040b700bc24",
    "implementation": "0x8e8e658e22b12ada97b402ff0b044d6a325013c7",
    "eip7702": false,
    "deployed": [
      {
        "chain": {
          "id": 137,
          "name": "POLYGON",
          "logo": "https://logopolygon.com"
        },
        "deployed": true
      }
    ],
    "salt": 12345,
    "registeredAt": "2025-08-06T16:57:09.249Z"
  }
}
```

**Path Parameters:**
- `walletId` (string, required): Endere√ßo da wallet (em formato hexadecimal)

**Request Body:**
- `metadata` (object, required): Metadados personalizados para a entidade. Pares chave-valor com valores string. Tamanho m√°ximo 1KB.

**Response Fields:**
- `wallet` (object): Detalhes da wallet
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `walletAddress` (string): Endere√ßo da smart wallet (em formato hexadecimal)
  - `accountAbstraction` (string, DEPRECATED): Use walletAddress ao inv√©s
  - `externallyOwnedAccount` (string): Endere√ßo do propriet√°rio da wallet, que assina as opera√ß√µes de usu√°rio
  - `factory` (string): Endere√ßo do contrato factory, que far√° deploy do contrato de abstra√ß√£o de conta
  - `implementation` (string): Endere√ßo do contrato de implementa√ß√£o, este contrato √© o contrato efetivo da smart wallet
  - `eip7702` (boolean): Se esta wallet est√° usando EIP7702
  - `deployed` (array): Estado de deployment do contrato da wallet em cada blockchain
    - `chain` (object): Blockchain sobre o qual este estado de deployment se refere
    - `deployed` (boolean): Se esta wallet j√° foi deployada na blockchain
  - `salt` (string): N√∫mero salt usado para gerar esta wallet. Null para wallets EIP-7702
  - `registeredAt` (string): Data em que a wallet foi registrada com este projeto, null se n√£o registrada

**Status de Retorno:**
- `200` - Detalhes da wallet atualizados
- `403` - N√£o permitido (NOT_ALLOWED)
- `404` - Wallet n√£o encontrada (WALLET_NOT_FOUND)

### 24. Update Transaction Metadata
**Endpoint:** `PATCH /wallets/transactions/{transactionId}/metadata`

Atualiza os metadados de uma transa√ß√£o associada a uma smart wallet.

```bash
curl -X PATCH "$BASE_URL/wallets/transactions/f1d61925-d4ae-450a-9f74-ab55f5e6647b/metadata" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "metadata": {
      "key1": "value1",
      "key2": "value2"
    }
  }'
```

**Response (200 OK):**
```json
{
  "transaction": {
    "metadata": {
      "key": "value"
    },
    "id": "f1d61925-d4ae-450a-9f74-ab55f5e6647b",
    "createdAt": "2025-08-20T19:32:23.581Z",
    "updatedAt": "2025-08-20T20:45:12.385Z",
    "executedAt": "2025-08-20T20:45:12.385Z",
    "status": "COMPLETED",
    "transactionHash": {
      "hash": "0x68232841f033cf0d9420b0197d667058ab463ed5a524b544f9d016576ca8e2fb",
      "explorerURL": "https://polygonscan.com/tx/0x68232841f033cf0d9420b0197d667058ab463ed5a524b544f9d016576ca8e2fb",
      "explorer": "PolygonScan"
    },
    "chain": {
      "id": 137,
      "name": "POLYGON",
      "logo": "https://logopolygon.com"
    },
    "type": "CRYPTO_DEPOSIT",
    "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "receivedBy": "0xa2acc967a9fc4fd5d18351d06deb9b8718c18333",
    "receivedFromAddress": "0xeca5dd1bfbdd52fb9d94438d2ea4d27acae33b72",
    "receivedCryptoCurrency": {
      "name": "Wrapped Bitcoin",
      "symbol": "WBTC",
      "decimals": 18,
      "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
      "logoURL": "https://assets.notus.team/wbtc.png"
    },
    "receivedAmount": {
      "token": {
        "name": "Wrapped Bitcoin",
        "symbol": "WBTC",
        "decimals": 18,
        "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
        "logoURL": "https://assets.notus.team/wbtc.png"
      },
      "cryptoCurrency": {
        "name": "Wrapped Bitcoin",
        "symbol": "WBTC",
        "decimals": 18,
        "address": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
        "logoURL": "https://assets.notus.team/wbtc.png"
      },
      "amount": "3342.7389263",
      "amountIn": {
        "btc": "1234.98765",
        "eth": "1234.98765",
        "usd": "1234.98765",
        "eur": "1234.98765",
        "brl": "1234.98765"
      }
    }
  }
}
```

**Path Parameters:**
- `transactionId` (string, required): ID interno da transa√ß√£o. N√£o confundir com o hash da transa√ß√£o, que √© um conceito relacionado √† blockchain e que m√∫ltiplas opera√ß√µes de usu√°rio podem ser executadas no mesmo hash de transa√ß√£o

**Request Body:**
- `metadata` (object, required): Pares chave-valor para metadados. Tanto as chaves quanto os valores devem ser strings

**Response Fields:**
- `transaction` (object): Transa√ß√£o que foi atualizada
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `id` (string): ID da transa√ß√£o, use para pagina√ß√£o
  - `createdAt` (string): Tempo em que a transa√ß√£o foi criada na API
  - `updatedAt` (string): √öltima vez que os detalhes da transa√ß√£o foram atualizados
  - `executedAt` (string): Tempo em que a transa√ß√£o foi executada na blockchain
  - `status` (string): Status atual da opera√ß√£o
  - `transactionHash` (object): Hash da transa√ß√£o que executou esta opera√ß√£o de usu√°rio
  - `chain` (object): Chain onde a opera√ß√£o de usu√°rio foi executada
  - `type` (string): Tipo de transa√ß√£o
  - `userOperationHash` (string): Hash √∫nico desta opera√ß√£o de usu√°rio espec√≠fica
  - `receivedBy` (string): Wallet que recebeu o ativo
  - `receivedFromAddress` (string): Endere√ßo que enviou o ativo para o usu√°rio
  - `receivedCryptoCurrency` (object, DEPRECATED): Use receivedAmount.cryptoCurrency ao inv√©s
  - `receivedAmount` (object): Quantia da moeda crypto que o usu√°rio recebeu

**Status de Retorno:**
- `200` - Metadados da transa√ß√£o atualizados
- `400` - Metadados inv√°lidos (invalid_metadata)
- `404` - Transa√ß√£o n√£o encontrada (TRANSACTION_NOT_FOUND)

---

## üîÑ Swaps

### 25. Create Swap
**Endpoint:** `POST /crypto/swap`

Este endpoint fornece uma cota√ß√£o em tempo real para um swap de tokens, detalhando o valor estimado do token de destino, taxas e outros par√¢metros relevantes.

```bash
curl -X POST "$BASE_URL/crypto/swap" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "amountIn": "1.2",
    "chainIdIn": 42161,
    "chainIdOut": 43114,
    "routeProfile": "QUICKEST_QUOTE",
    "gasFeePaymentMethod": "ADD_TO_AMOUNT",
    "payGasFeeToken": "0xc2132d05d31c914a87c6611c10748aeb04b58e8f",
    "tokenIn": "0x2791bca1f2de4661ed88a30c99a7a9449aa84174",
    "tokenOut": "0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "toAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "transactionFeePercent": 0.5,
    "slippage": 0.5,
    "metadata": {
      "key": "value"
    }
  }'
```

**Response (200 OK):**
```json
{
  "quotes": [
    {
      "metadata": {
        "key": "value"
      },
      "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
      "quoteId": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
      "revertReason": {
        "decoded": "ERC-20 insufficient balance. Address 0xf12534a4939c7fbda50f893774a9525265fe1a9a has 120. The operation requested 200.",
        "raw": "0xe450d38c000000000000000000000000f12534a4939c7fbda50f893774a9525265fe1a9a0000000000000000000000000000000000000000000000068155a43676e0000000000000000000000000000000000000000000000000000ad78ebc5ac6200000",
        "utf8": "\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000%4\u000f7tRRe\u001a\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0006U6v\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n◊éZ \u0000\u0000"
      },
      "authorization": {
        "chainId": 42161,
        "address": "0xd6cedde84be40893d153be9d467cd6ad37875b28",
        "nonce": 10,
        "hash": "0x777811ae5d51875409b9978ddc1b40a9da1bbe9570040bdd7c5f186d70ceceba"
      },
      "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
      "tokenIn": "0x2791bca1f2de4661ed88a30c99a7a9449aa84174",
      "amountIn": "1.26",
      "tokenOut": "0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",
      "chainIn": 42161,
      "chainOut": 43114,
      "minAmountOut": "23.48",
      "estimatedExecutionTime": "2026-04-12T14:49:12.762Z",
      "estimatedGasFees": {
        "payGasFeeToken": "0xc2132d05d31c914a87c6611c10748aeb04b58e8f",
        "maxGasFeeToken": "12.345",
        "gasFeeTokenAmount": "12.345",
        "gasFeeTokenAmountUSD": "0.321",
        "maxGasFeeNative": "string"
      },
      "estimatedCollectedFee": {
        "collectedFeeToken": "string",
        "collectedFee": "string",
        "collectedFeePercent": "string",
        "notusCollectedFee": "string",
        "notusCollectedFeePercent": "string"
      },
      "amountInUSD": "23.4921",
      "amountOutUSD": "23.502",
      "tokenInPrice": "1.736",
      "swapProvider": "ENSO",
      "expiresAt": 1751469204210
    }
  ]
}
```

**Request Body:**
- `amountIn` (string, required): A quantidade a ser trocada, expressa como string decimal
- `chainIdIn` (number, required): A rede blockchain onde o swap se origina. Chains EVM suportadas: Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137
- `chainIdOut` (number, required): A rede blockchain onde o ativo trocado ser√° enviado. Chains suportadas: Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137, Bitcoin: 0
- `routeProfile` (string, optional): Perfis de rota definem a ordem e quais cota√ß√µes s√£o retornadas no array. Valores: QUICKEST_QUOTE, FASTEST_BRIDGE, BEST_OUTPUT. Padr√£o: QUICKEST_QUOTE
- `gasFeePaymentMethod` (string, required): Define como a taxa ser√° paga: ADD_TO_AMOUNT adiciona ao valor de entrada, DEDUCT_FROM_AMOUNT subtrai do valor de entrada
- `payGasFeeToken` (string, required): Endere√ßo do token (em formato hexadecimal) usado para pagar a taxa de transa√ß√£o
- `tokenIn` (string, required): Endere√ßo (em formato hexadecimal) do token sendo trocado
- `tokenOut` (string, required): Endere√ßo (em formato hexadecimal) do token sendo trocado para
- `walletAddress` (string, required): Endere√ßo da wallet (em formato hexadecimal) iniciando o swap
- `toAddress` (string, required): Endere√ßo (EVM ou Bitcoin) recebendo o swap. Geralmente igual ao walletAddress, mas pode ser outro endere√ßo
- `transactionFeePercent` (number, optional): Taxa percentual a ser cobrada (0 a 99%). A taxa √© deduzida do token de entrada e enviada para o treasuryAddress se configurado
- `slippage` (number, optional): Par√¢metro opcional controlando o desvio m√°ximo permitido do pre√ßo esperado de uma negocia√ß√£o e o pre√ßo real no qual a negocia√ß√£o √© executada, com valor m√≠nimo de 0.5 e m√°ximo de 99, padr√£o √© 0.5, onde 1 unidade equivale a 1%
- `metadata` (object, optional): Metadados personalizados para a entidade. Pares chave-valor com valores string. Tamanho m√°ximo 1KB

**Response Fields:**
- `quotes` (array): Array de cota√ß√µes, uma para cada provedor que foi solicitado
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `userOperationHash` (string): Identificador √∫nico para a cota√ß√£o de swap, necess√°rio para executar a transa√ß√£o
  - `quoteId` (string, DEPRECATED): Use userOperationHash ao inv√©s
  - `revertReason` (object): Raz√£o pela qual o hash da opera√ß√£o de usu√°rio √© null
  - `authorization` (object): Autoriza√ß√£o EIP-7702. Se a wallet for uma wallet EIP-7702, este campo estar√° dispon√≠vel para a primeira opera√ß√£o de usu√°rio
  - `walletAddress` (string): Endere√ßo da wallet (em formato hexadecimal) iniciando o swap
  - `tokenIn` (string): Endere√ßo (em formato hexadecimal) do token sendo trocado
  - `amountIn` (string): A quantidade a ser trocada, expressa como string
  - `tokenOut` (string): Endere√ßo (em formato hexadecimal) do token sendo trocado para
  - `chainIn` (number): A rede blockchain onde o swap se origina
  - `chainOut` (number): A rede blockchain onde o ativo trocado ser√° enviado
  - `minAmountOut` (string): A quantidade m√≠nima aceit√°vel de sa√≠da para o swap
  - `estimatedExecutionTime` (string): Tempo estimado que a transa√ß√£o executar√°
  - `estimatedGasFees` (object): Detalhes das taxas estimadas para o swap, incluindo taxas de gas e provedor
  - `estimatedCollectedFee` (object): Detalhes das taxas estimadas para o swap, incluindo taxas de gas e provedor
  - `amountInUSD` (string): A quantidade em USD do token sendo trocado
  - `amountOutUSD` (string): A quantidade em USD do token sendo trocado para
  - `tokenInPrice` (string): O pre√ßo do token sendo trocado em USD
  - `swapProvider` (string): O provedor lidando com a execu√ß√£o do swap. Valores: ENSO, LIFI, ODOS, PARASWAP, RANGO, RELAY, XY
  - `expiresAt` (number): A data de expira√ß√£o da cota√ß√£o

**Status de Retorno:**
- `200` - Cota√ß√£o de swap criada com sucesso
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Wallet n√£o registrada com o projeto (ACCOUNT_ABSTRACTION_ADDRESS_NOT_REGISTERED_WITH_PROJECT)
- `500` - Falha ao obter cota√ß√£o de swap (SWAP_QUOTE)

---

## üí∏ Transfers

### 26. Create Transfer
**Endpoint:** `POST /crypto/transfer`

Este endpoint fornece uma cota√ß√£o em tempo real para uma transfer√™ncia de tokens, incluindo o valor estimado do token, taxas e outros detalhes relevantes.

```bash
curl -X POST "$BASE_URL/crypto/transfer" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "amount": "101.25",
    "chainId": 42161,
    "gasFeePaymentMethod": "ADD_TO_AMOUNT",
    "payGasFeeToken": "0x82af49447d8a07e3bd95bd0d56f35241523fbab1",
    "token": "0xaf88d065e77c8cc2239327c5edb3a432268e5831",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "toAddress": "0xa7a9dcfcb65ed67e05d9c7eb49d2d74ce1f5f4f1",
    "transactionFeePercent": 0.5,
    "metadata": {
      "key": "value"
    }
  }'
```

**Response (200 OK):**
```json
{
  "transfer": {
    "metadata": {
      "key": "value"
    },
    "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "quoteId": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "revertReason": {
      "decoded": "ERC-20 insufficient balance. Address 0xf12534a4939c7fbda50f893774a9525265fe1a9a has 120. The operation requested 200.",
      "raw": "0xe450d38c000000000000000000000000f12534a4939c7fbda50f893774a9525265fe1a9a0000000000000000000000000000000000000000000000068155a43676e0000000000000000000000000000000000000000000000000000ad78ebc5ac6200000",
      "utf8": "\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000%4\u000f7tRRe\u001a\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0006U6v\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n◊éZ \u0000\u0000"
    },
    "authorization": {
      "chainId": 42161,
      "address": "0xd6cedde84be40893d153be9d467cd6ad37875b28",
      "nonce": 10,
      "hash": "0x777811ae5d51875409b9978ddc1b40a9da1bbe9570040bdd7c5f186d70ceceba"
    },
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "token": "0x2791bca1f2de4661ed88a30c99a7a9449aa84174",
    "amountToSend": "1.26",
    "amountToSendUSD": "23.48",
    "amountToBeReceived": "1.255",
    "amountToBeReceivedUSD": "23.386825396825396825",
    "chain": 43114,
    "estimatedExecutionTime": "2026-04-12T14:49:12.762Z",
    "estimatedGasFees": {
      "payGasFeeToken": "0xc2132d05d31c914a87c6611c10748aeb04b58e8f",
      "maxGasFeeToken": "12.345",
      "gasFeeTokenAmount": "12.345",
      "gasFeeTokenAmountUSD": "0.321",
      "maxGasFeeNative": "string"
    },
    "estimatedCollectedFee": {
      "collectedFeeToken": "string",
      "collectedFee": "string",
      "collectedFeePercent": "string",
      "notusCollectedFee": "string",
      "notusCollectedFeePercent": "string"
    },
    "toAddress": "0x89c9da1cc13daebe9caca2418c1028253636b163",
    "expiresAt": 1751469204210
  }
}
```

**Request Body:**
- `amount` (string, required): A quantidade a ser transferida, expressa como string decimal
- `chainId` (number, required): A rede blockchain onde a transfer√™ncia executa. Chains EVM suportadas: Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137
- `gasFeePaymentMethod` (string, required): Define como a taxa ser√° paga: ADD_TO_AMOUNT adiciona ao valor de entrada, DEDUCT_FROM_AMOUNT subtrai do valor de entrada
- `payGasFeeToken` (string, required): Endere√ßo do token (em formato hexadecimal) usado para pagar a taxa de transa√ß√£o
- `token` (string, required): Endere√ßo (em formato hexadecimal) do token sendo transferido
- `walletAddress` (string, required): Endere√ßo da wallet (em formato hexadecimal) iniciando a transfer√™ncia
- `toAddress` (string, required): Endere√ßo da wallet (em formato hexadecimal) recebendo a transfer√™ncia
- `transactionFeePercent` (number, optional): Taxa percentual a ser cobrada (0 a 99%). A taxa √© deduzida do token de entrada e enviada para o treasuryAddress se configurado
- `metadata` (object, optional): Metadados personalizados para a entidade. Pares chave-valor com valores string. Tamanho m√°ximo 1KB

**Response Fields:**
- `transfer` (object): Detalhes sobre a transfer√™ncia
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `userOperationHash` (string): Identificador √∫nico para a cota√ß√£o de transfer√™ncia, necess√°rio para executar a transa√ß√£o
  - `quoteId` (string, DEPRECATED): Use userOperationHash ao inv√©s
  - `revertReason` (object): Raz√£o pela qual o hash da opera√ß√£o de usu√°rio √© null
  - `authorization` (object): Autoriza√ß√£o EIP-7702. Se a wallet for uma wallet EIP-7702, este campo estar√° dispon√≠vel para a primeira opera√ß√£o de usu√°rio
  - `walletAddress` (string): Endere√ßo da wallet (em formato hexadecimal) iniciando a transfer√™ncia
  - `token` (string): Endere√ßo (em formato hexadecimal) do token sendo transferido
  - `amountToSend` (string): A quantidade a ser transferida, expressa como string decimal
  - `amountToSendUSD` (string): A quantidade a ser transferida em USD, expressa como string decimal
  - `amountToBeReceived` (string): A quantidade a ser recebida, expressa como string decimal
  - `amountToBeReceivedUSD` (string): A quantidade a ser recebida em USD, expressa como string decimal
  - `chain` (number): A rede blockchain onde a transfer√™ncia executa
  - `estimatedExecutionTime` (string): Tempo estimado que a transa√ß√£o executar√°
  - `estimatedGasFees` (object): Detalhes das taxas estimadas para a transfer√™ncia, incluindo taxas de gas e provedor
  - `estimatedCollectedFee` (object): Detalhes das taxas estimadas para a transfer√™ncia, incluindo taxas de gas e provedor
  - `toAddress` (string): Endere√ßo da wallet (em formato hexadecimal) recebendo a transfer√™ncia
  - `expiresAt` (number): A data de expira√ß√£o da cota√ß√£o

**Status de Retorno:**
- `200` - Cota√ß√£o de transfer√™ncia criada com sucesso
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Wallet n√£o registrada com o projeto (ACCOUNT_ABSTRACTION_ADDRESS_NOT_REGISTERED_WITH_PROJECT)

---

## ‚öôÔ∏è User Operations

### 27. Create Batch Operation
**Endpoint:** `POST /crypto/batch-operations`

Uma opera√ß√£o que pode unir transfer√™ncias e swaps em uma √∫nica opera√ß√£o.

```bash
curl -X POST "$BASE_URL/crypto/batch-operations" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "walletAddress": "0xa2acc967a9fc4fd5d18351d06deb9b8718c18333",
    "chainId": 42161,
    "operations": [
      {
        "type": "transfer",
        "params": {
          "amount": "101.25",
          "gasFeePaymentMethod": "ADD_TO_AMOUNT",
          "payGasFeeToken": "0x82af49447d8a07e3bd95bd0d56f35241523fbab1",
          "token": "0xaf88d065e77c8cc2239327c5edb3a432268e5831",
          "toAddress": "0xa7a9dcfcb65ed67e05d9c7eb49d2d74ce1f5f4f1",
          "transactionFeePercent": 0.5,
          "metadata": {
            "key": "value"
          }
        }
      }
    ]
  }'
```

**Response (200 OK):**
```json
{
  "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
  "quoteId": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
  "authorization": {
    "chainId": 42161,
    "address": "0xd6cedde84be40893d153be9d467cd6ad37875b28",
    "nonce": 10,
    "hash": "0x777811ae5d51875409b9978ddc1b40a9da1bbe9570040bdd7c5f186d70ceceba"
  },
  "expiresAt": "2025-10-26T13:27:49.542Z",
  "operations": [
    {
      "swap": {
        "metadata": {
          "key": "value"
        },
        "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
        "quoteId": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
        "revertReason": {
          "decoded": "ERC-20 insufficient balance. Address 0xf12534a4939c7fbda50f893774a9525265fe1a9a has 120. The operation requested 200.",
          "raw": "0xe450d38c000000000000000000000000f12534a4939c7fbda50f893774a9525265fe1a9a0000000000000000000000000000000000000000000000068155a43676e0000000000000000000000000000000000000000000000000000ad78ebc5ac6200000",
          "utf8": "\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000%4\u000f7tRRe\u001a\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0006U6v\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n◊éZ \u0000\u0000"
        },
        "authorization": {
          "chainId": 42161,
          "address": "0xd6cedde84be40893d153be9d467cd6ad37875b28",
          "nonce": 10,
          "hash": "0x777811ae5d51875409b9978ddc1b40a9da1bbe9570040bdd7c5f186d70ceceba"
        },
        "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
        "tokenIn": "0x2791bca1f2de4661ed88a30c99a7a9449aa84174",
        "amountIn": "1.26",
        "tokenOut": "0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",
        "chainIn": 42161,
        "chainOut": 43114,
        "minAmountOut": "23.48",
        "estimatedExecutionTime": "2026-04-12T14:49:12.762Z",
        "estimatedGasFees": {
          "payGasFeeToken": "0xc2132d05d31c914a87c6611c10748aeb04b58e8f",
          "maxGasFeeToken": "12.345",
          "gasFeeTokenAmount": "12.345",
          "gasFeeTokenAmountUSD": "0.321",
          "maxGasFeeNative": "string"
        },
        "estimatedCollectedFee": {
          "collectedFeeToken": "string",
          "collectedFee": "string",
          "collectedFeePercent": "string",
          "notusCollectedFee": "string",
          "notusCollectedFeePercent": "string"
        },
        "amountInUSD": "23.4921",
        "amountOutUSD": "23.502",
        "tokenInPrice": "1.736",
        "swapProvider": "ENSO",
        "expiresAt": 1751469204210
      }
    }
  ]
}
```

**Request Body:**
- `walletAddress` (string, required): Endere√ßo da wallet (em formato hexadecimal) iniciando a opera√ß√£o
- `chainId` (number, required): A rede blockchain onde a opera√ß√£o se origina. Chains EVM suportadas: Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137
- `operations` (array, required): Lista de opera√ß√µes para executar, a ordem na lista √© a ordem de execu√ß√£o
  - `type` (string, required): Tipo de opera√ß√£o. Valores: "transfer", "swap", "liquidity"
  - `params` (object, required): Par√¢metros para executar a opera√ß√£o
    - Para transfer: `amount`, `gasFeePaymentMethod`, `payGasFeeToken`, `token`, `toAddress`, `transactionFeePercent`, `metadata`
    - Para swap: `amountIn`, `chainIdIn`, `chainIdOut`, `routeProfile`, `gasFeePaymentMethod`, `payGasFeeToken`, `tokenIn`, `tokenOut`, `toAddress`, `transactionFeePercent`, `slippage`, `metadata`
    - Para liquidity: `liquidityProvider`, `walletAddress`, `toAddress`, `chainId`, `transactionFeePercent`, `payGasFeeToken`, `gasFeePaymentMethod`, `token0`, `token1`, `poolFeePercent`, `token0Amount`, `token1Amount`, `minPrice`, `maxPrice`, `slippage`, `metadata`

**Response Fields:**
- `userOperationHash` (string): Identificador √∫nico para a opera√ß√£o em lote, necess√°rio para executar a transa√ß√£o
- `quoteId` (string, DEPRECATED): Use userOperationHash ao inv√©s
- `authorization` (object): Autoriza√ß√£o EIP-7702. Se a wallet for uma wallet EIP-7702, este campo estar√° dispon√≠vel para a primeira opera√ß√£o de usu√°rio
- `expiresAt` (string): A data de expira√ß√£o da opera√ß√£o em lote
- `operations` (array): As opera√ß√µes da opera√ß√£o em lote
  - `swap` (object): Detalhes sobre a opera√ß√£o de swap
  - `transfer` (object): Detalhes sobre a opera√ß√£o de transfer√™ncia
  - `operation` (object): Detalhes sobre a opera√ß√£o de liquidez

**Status de Retorno:**
- `200` - Opera√ß√£o em lote criada com sucesso
- `400` - Tokens n√£o autorizados (NOT_AUTHORIZED_TOKENS)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Wallet n√£o registrada com o projeto (ACCOUNT_ABSTRACTION_ADDRESS_NOT_REGISTERED_WITH_PROJECT)
- `500` - Falha ao obter cota√ß√£o de swap (SWAP_QUOTE)

### 28. Create Custom User Operation
**Endpoint:** `POST /crypto/custom-user-operation`

Permite criar opera√ß√µes de usu√°rio customizadas com controle total sobre os par√¢metros da transa√ß√£o. User Operations s√£o o formato de transa√ß√£o usado em Account Abstraction, s√£o transa√ß√µes blockchain executadas atrav√©s de smart wallets. Este endpoint permite executar qualquer fun√ß√£o de smart contract, transferir tokens nativos ou realizar opera√ß√µes complexas definindo suas pr√≥prias assinaturas de m√©todo, dados de chamada e mais.

```bash
curl -X POST "$BASE_URL/crypto/custom-user-operation" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "chainId": 42161,
    "operations": [
      {
        "address": "0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",
        "methodSignature": "transfer(address,uint256)",
        "arguments": ["0xa7a9dcfcb65ed67e05d9c7eb49d2d74ce1f5f4f1", "10000000000000000000"],
        "value": "0",
        "metadata": {
          "key": "value"
        }
      }
    ],
    "payGasFeeToken": "0x82af49447d8a07e3bd95bd0d56f35241523fbab1",
    "payGasFeeTokenAddress": "0x82af49447d8a07e3bd95bd0d56f35241523fbab1",
    "walletAddress": "0x6e397ddf51d9f15dbe0414538e7529f51f2e5464",
    "metadata": {
      "key": "value"
    }
  }'
```

**Response (200 OK):**
```json
{
  "userOperation": {
    "metadata": {
      "key": "value"
    },
    "id": "123e4567-e89b-12d3-a456-426614174000",
    "userOperationHash": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
    "hash": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
    "authorization": {
      "chainId": 42161,
      "address": "0xd6cedde84be40893d153be9d467cd6ad37875b28",
      "nonce": 10,
      "hash": "0x777811ae5d51875409b9978ddc1b40a9da1bbe9570040bdd7c5f186d70ceceba"
    },
    "chainIn": {
      "id": 137,
      "name": "POLYGON",
      "logo": "https://logopolygon.com"
    },
    "chainOut": {
      "id": 137,
      "name": "POLYGON",
      "logo": "https://logopolygon.com"
    },
    "chainIdIn": 1,
    "chainIdOut": 137,
    "sender": {
      "walletAddress": "0x1234567890abcdef1234567890abcdef12345678",
      "accountAbstraction": "0x1234567890abcdef1234567890abcdef12345678",
      "externallyOwnedAccount": "0x1234567890abcdef1234567890abcdef12345678"
    },
    "nonce": "1",
    "signature": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
    "callGasLimit": "100000",
    "verificationGasLimit": "50000",
    "preVerificationGas": "21000",
    "maxFeePerGas": "20000000000",
    "maxPriorityFeePerGas": "1500000000",
    "maxGasFeeNative": "0.01",
    "maxGasFeeToken": "0.5",
    "payFeesToken": "0xabcdef1234567890abcdef1234567890abcdef12",
    "factory": {
      "data": "0x1234567890abcdef",
      "address": "0x1234567890abcdef1234567890abcdef12345678",
      "entryPointVersion": "v0.6"
    },
    "paymaster": "0xabcdef1234567890abcdef1234567890abcdef12",
    "paymasterData": "0x1234567890abcdef1234567890abcdef",
    "paymasterPostOpGasLimit": "30000",
    "paymasterVerificationGasLimit": "40000",
    "expiresAt": "2023-12-31T23:59:59.999Z",
    "projectId": "123e4567-e89b-12d3-a456-426614174000",
    "organizationId": "123e4567-e89b-12d3-a456-426614174000"
  }
}
```

**Request Body:**
- `chainId` (number, required): Chain onde a opera√ß√£o ser√° iniciada. Chains EVM suportadas: Arbitrum One: 42161, Avalanche: 43114, Base: 8453, BNB Smart Chain: 56, Ethereum: 1, Gnosis: 100, OP Mainnet: 10, Polygon: 137
- `operations` (array, required): Lista de opera√ß√µes para executar, a ordem aqui √© a ordem de execu√ß√£o
  - `address` (string, required): Endere√ßo do smart contract cuja fun√ß√£o ser√° executada, ou um endere√ßo de destino se enviando tokens nativos
  - `methodSignature` (string, optional): A fun√ß√£o no smart contract para executar
  - `arguments` (array, optional): Lista de argumentos para serem dados aos par√¢metros da fun√ß√£o, mesma ordem definida na fun√ß√£o
  - `value` (string, required): Quantidade de token nativo que esta opera√ß√£o precisa enviar. N√£o confundir com suas contrapartes wrapped que geralmente come√ßam com W, estes s√£o tokens ERC-20
  - `metadata` (object, optional): Metadados personalizados para a entidade. Pares chave-valor com valores string. Tamanho m√°ximo 1KB
- `payGasFeeToken` (string, optional): Token que ser√° usado para cobrir taxas de gas. Este √© obrigat√≥rio, o opcional √© apenas para suportar o campo depreciado
- `payGasFeeTokenAddress` (string, optional, DEPRECATED): Use payGasFeeToken ao inv√©s
- `walletAddress` (string, required): Smart wallet que executar√° estas opera√ß√µes
- `metadata` (object, optional): Metadados personalizados para a entidade. Pares chave-valor com valores string. Tamanho m√°ximo 1KB

**Response Fields:**
- `userOperation` (object): A opera√ß√£o customizada
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `id` (string): Identificador √∫nico da opera√ß√£o de usu√°rio
  - `userOperationHash` (string): Hash da opera√ß√£o de usu√°rio
  - `hash` (string, DEPRECATED): Use userOperationHash ao inv√©s
  - `authorization` (object): Autoriza√ß√£o EIP-7702. Se a wallet for uma wallet EIP-7702, este campo estar√° dispon√≠vel para a primeira opera√ß√£o de usu√°rio
  - `chainIn` (object): Chain da rede de origem
  - `chainOut` (object): Chain da rede de destino
  - `chainIdIn` (number, DEPRECATED): Use chainIn.id ao inv√©s. Chain ID da rede de origem
  - `chainIdOut` (number, DEPRECATED): Use chainOut.id ao inv√©s. Chain ID da rede de destino
  - `sender` (object): Endere√ßo remetente da opera√ß√£o de usu√°rio
  - `nonce` (string): Nonce da opera√ß√£o de usu√°rio
  - `signature` (string): Assinatura da opera√ß√£o de usu√°rio
  - `callGasLimit` (string): Limite de gas para a chamada
  - `verificationGasLimit` (string): Limite de gas para verifica√ß√£o
  - `preVerificationGas` (string): Gas usado antes da verifica√ß√£o
  - `maxFeePerGas` (string): Taxa m√°xima por gas
  - `maxPriorityFeePerGas` (string): Taxa m√°xima de prioridade por gas
  - `maxGasFeeNative` (string): Taxa m√°xima de gas em moeda nativa
  - `maxGasFeeToken` (string): Taxa m√°xima de gas em token
  - `payFeesToken` (string): Token usado para pagar taxas
  - `factory` (object): Endere√ßo factory
  - `entryPointVersion` (string): Vers√£o do entry point
  - `paymaster` (string): Endere√ßo paymaster
  - `paymasterData` (string): Dados paymaster
  - `paymasterPostOpGasLimit` (string): Limite de gas p√≥s-opera√ß√£o paymaster
  - `paymasterVerificationGasLimit` (string): Limite de gas de verifica√ß√£o paymaster
  - `expiresAt` (string): Data de expira√ß√£o da opera√ß√£o de usu√°rio
  - `projectId` (string): ID do projeto
  - `organizationId` (string): ID da organiza√ß√£o

**Status de Retorno:**
- `200` - Opera√ß√£o de usu√°rio customizada criada com sucesso

### 29. Execute User Operation
**Endpoint:** `POST /crypto/execute-user-op`

Este endpoint enfileira para execu√ß√£o uma opera√ß√£o de usu√°rio na blockchain, como uma cota√ß√£o de swap ou uma transfer√™ncia. A execu√ß√£o ocorre de forma ass√≠ncrona conforme aguarda ser inclu√≠da em um bloco. Voc√™ pode verificar o status usando o hash retornado no endpoint de hist√≥rico ou com nossos webhooks.

```bash
curl -X POST "$BASE_URL/crypto/execute-user-op" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY" \
  -d '{
    "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "quoteId": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
    "signature": "0xeecdd469465113db97d2d57949c581a080a4e7d7c528187ffc80e4f55ca68e083dcda2338666db182417608b971f5237c5807d67c7515e52f9ffe045e775ec791b",
    "authorization": "0xeecdd469465113db97d2d57949c581a080a4e7d7c528187ffc80e4f55ca68e083dcda2338666db182417608b971f5237c5807d67c7515e52f9ffe045e775ec791b"
  }'
```

**Response (202 Accepted):**
```json
{
  "userOperationHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
  "userOpHash": "0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1",
  "estimatedExecutionTime": "2026-04-12T14:49:12.762Z"
}
```

**Request Body:**
- `userOperationHash` (string, optional): Identificador √∫nico para a cota√ß√£o de swap, necess√°rio para executar a transa√ß√£o
- `quoteId` (string, optional, DEPRECATED): Use userOperationHash ao inv√©s. Ser√° ignorado se userOperationHash for usado
- `signature` (string, required): A assinatura da transa√ß√£o, necess√°ria para executar a transa√ß√£o
- `authorization` (string, optional): A assinatura da autoriza√ß√£o, necess√°ria para executar a primeira transa√ß√£o de uma wallet EIP-7702. Se o campo authorization foi null na opera√ß√£o que voc√™ solicitou, ent√£o voc√™ n√£o precisa enviar isso

**Response Fields:**
- `userOperationHash` (string): O hash da opera√ß√£o de usu√°rio executada, representado em formato hexadecimal. Serve como identificador √∫nico para a opera√ß√£o na blockchain
- `userOpHash` (string, DEPRECATED): Use userOperationHash ao inv√©s
- `estimatedExecutionTime` (string): Tempo estimado que a transa√ß√£o ser√° executada

**Status de Retorno:**
- `202` - Hash da opera√ß√£o de usu√°rio para transa√ß√£o enfileirada
- `400` - Opera√ß√£o de usu√°rio expirada (EXECUTE_USER_OP)
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Opera√ß√£o de usu√°rio n√£o encontrada (USER_OPERATION_NOT_FOUND)
- `500` - Falha ao executar opera√ß√£o de usu√°rio (EXECUTE_USER_OP)

### 30. Get User Operation
**Endpoint:** `GET /crypto/user-operation/{userOperationHash}`

Obter uma opera√ß√£o de usu√°rio pelo seu hash.

```bash
curl -X GET "$BASE_URL/crypto/user-operation/0x2aac7a66d5331454eafc9b981be3596ad08a40dad24883e3b9c4a5362cd7f7e1" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $NOTUS_API_KEY"
```

**Response (200 OK):**
```json
{
  "userOperation": {
    "metadata": {
      "key": "value"
    },
    "id": "123e4567-e89b-12d3-a456-426614174000",
    "userOperationHash": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
    "hash": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
    "authorization": {
      "chainId": 42161,
      "address": "0xd6cedde84be40893d153be9d467cd6ad37875b28",
      "nonce": 10,
      "hash": "0x777811ae5d51875409b9978ddc1b40a9da1bbe9570040bdd7c5f186d70ceceba"
    },
    "chainIn": {
      "id": 137,
      "name": "POLYGON",
      "logo": "https://logopolygon.com"
    },
    "chainOut": {
      "id": 137,
      "name": "POLYGON",
      "logo": "https://logopolygon.com"
    },
    "chainIdIn": 1,
    "chainIdOut": 137,
    "sender": {
      "walletAddress": "0x1234567890abcdef1234567890abcdef12345678",
      "accountAbstraction": "0x1234567890abcdef1234567890abcdef12345678",
      "externallyOwnedAccount": "0x1234567890abcdef1234567890abcdef12345678"
    },
    "nonce": "1",
    "signature": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
    "callGasLimit": "100000",
    "verificationGasLimit": "50000",
    "preVerificationGas": "21000",
    "maxFeePerGas": "20000000000",
    "maxPriorityFeePerGas": "1500000000",
    "maxGasFeeNative": "0.01",
    "maxGasFeeToken": "0.5",
    "payFeesToken": "0xabcdef1234567890abcdef1234567890abcdef12",
    "factory": {
      "data": "0x1234567890abcdef",
      "address": "0x1234567890abcdef1234567890abcdef12345678",
      "entryPointVersion": "v0.6"
    },
    "paymaster": "0xabcdef1234567890abcdef1234567890abcdef12",
    "paymasterData": "0x1234567890abcdef1234567890abcdef",
    "paymasterPostOpGasLimit": "30000",
    "paymasterVerificationGasLimit": "40000",
    "expiresAt": "2023-12-31T23:59:59.999Z",
    "projectId": "123e4567-e89b-12d3-a456-426614174000",
    "organizationId": "123e4567-e89b-12d3-a456-426614174000"
  }
}
```

**Path Parameters:**
- `userOperationHash` (string, required): Hash da opera√ß√£o de usu√°rio

**Response Fields:**
- `userOperation` (object): Detalhes da opera√ß√£o de usu√°rio
  - `metadata` (object): Objeto de metadados definido para esta transa√ß√£o, null se nenhum
  - `id` (string): Identificador √∫nico da opera√ß√£o de usu√°rio
  - `userOperationHash` (string): Hash da opera√ß√£o de usu√°rio
  - `hash` (string, DEPRECATED): Use userOperationHash ao inv√©s
  - `authorization` (object): Autoriza√ß√£o EIP-7702. Se a wallet for uma wallet EIP-7702, este campo estar√° dispon√≠vel para a primeira opera√ß√£o de usu√°rio
  - `chainIn` (object): Chain da rede de origem
  - `chainOut` (object): Chain da rede de destino
  - `chainIdIn` (number, DEPRECATED): Use chainIn.id ao inv√©s. Chain ID da rede de origem
  - `chainIdOut` (number, DEPRECATED): Use chainOut.id ao inv√©s. Chain ID da rede de destino
  - `sender` (object): Endere√ßo remetente da opera√ß√£o de usu√°rio
  - `nonce` (string): Nonce da opera√ß√£o de usu√°rio
  - `signature` (string): Assinatura da opera√ß√£o de usu√°rio
  - `callGasLimit` (string): Limite de gas para a chamada
  - `verificationGasLimit` (string): Limite de gas para verifica√ß√£o
  - `preVerificationGas` (string): Gas usado antes da verifica√ß√£o
  - `maxFeePerGas` (string): Taxa m√°xima por gas
  - `maxPriorityFeePerGas` (string): Taxa m√°xima de prioridade por gas
  - `maxGasFeeNative` (string): Taxa m√°xima de gas em moeda nativa
  - `maxGasFeeToken` (string): Taxa m√°xima de gas em token
  - `payFeesToken` (string): Token usado para pagar taxas
  - `factory` (object): Endere√ßo factory
  - `entryPointVersion` (string): Vers√£o do entry point
  - `paymaster` (string): Endere√ßo paymaster
  - `paymasterData` (string): Dados paymaster
  - `paymasterPostOpGasLimit` (string): Limite de gas p√≥s-opera√ß√£o paymaster
  - `paymasterVerificationGasLimit` (string): Limite de gas de verifica√ß√£o paymaster
  - `expiresAt` (string): Data de expira√ß√£o da opera√ß√£o de usu√°rio
  - `projectId` (string): ID do projeto
  - `organizationId` (string): ID da organiza√ß√£o

**Status de Retorno:**
- `200` - Detalhes da opera√ß√£o de usu√°rio
- `403` - Unidades de computa√ß√£o insuficientes (UNAVAILABLE_COMPUTE_UNITS)
- `404` - Opera√ß√£o de usu√°rio n√£o encontrada (USER_OPERATION_NOT_FOUND)

---

## üß™ Script de Teste Automatizado

### Script Bash para Testar Todos os Endpoints

```bash
#!/bin/bash

# Configura√ß√£o
export NOTUS_API_KEY="YOUR_API_KEY"
export BASE_URL="https://api.notus.team/api/v1"

# Fun√ß√£o para testar endpoint
test_endpoint() {
    local method=$1
    local endpoint=$2
    local data=$3
    local description=$4
    
    echo "Testing: $description"
    echo "Endpoint: $method $endpoint"
    
    if [ -n "$data" ]; then
        response=$(curl -s -w "\n%{http_code}" -X $method "$BASE_URL$endpoint" \
            -H "Content-Type: application/json" \
            -H "x-api-key: $NOTUS_API_KEY" \
            -d "$data")
    else
        response=$(curl -s -w "\n%{http_code}" -X $method "$BASE_URL$endpoint" \
            -H "Content-Type: application/json" \
            -H "x-api-key: $NOTUS_API_KEY")
    fi
    
    http_code=$(echo "$response" | tail -n1)
    body=$(echo "$response" | head -n -1)
    
    echo "Status: $http_code"
    echo "Response: $body"
    echo "---"
}

# Testes b√°sicos (GET endpoints)
test_endpoint "GET" "/blockchain/chains" "" "List Chains"
test_endpoint "GET" "/blockchain/tokens" "" "List Tokens"
test_endpoint "GET" "/wallets" "" "Get Smart Wallets by Project"

echo "Testes b√°sicos conclu√≠dos!"
```

---

## üìù Notas Importantes

### Autentica√ß√£o
- Todas as requisi√ß√µes requerem header `x-api-key`
- A chave da API deve ser obtida no dashboard da Notus

### Rate Limiting
- A API possui rate limiting
- Implemente retry logic com backoff exponencial

### Error Handling
- Sempre verifique o status code da resposta
- Implemente tratamento de erros espec√≠ficos para cada endpoint

### Testes
- Use ambiente de teste antes de produ√ß√£o
- Valide todos os par√¢metros antes de enviar
- Mantenha logs detalhados das requisi√ß√µes

### Exemplos de Uso
- Substitua valores de exemplo pelos dados reais
- Valide endere√ßos de wallet e tokens
- Verifique saldos antes de opera√ß√µes que movimentam fundos

Este documento fornece uma base s√≥lida para testar todos os endpoints da API Notus e entender os comportamentos esperados de cada opera√ß√£o.
